{
  "name": "Furniture Shop[Update]",
  "nodes": [
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('Line Webhook').item.json.body.events[0].message.text }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=### üéØ **‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏Ç‡∏≠‡∏á Agent**\n\n‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ **‡πÅ‡∏ä‡∏ó‡∏ö‡∏≠‡∏ó‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô \"‡∏ü‡∏¥‡∏ô ‡∏ü‡∏¥‡∏ô ‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏ô‡∏¥‡πÄ‡∏à‡∏≠‡∏£‡πå\"** ‡∏°‡∏µ‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á‡∏û‡∏π‡∏î‡πÄ‡∏Å‡πà‡∏á ‡∏Ç‡∏≤‡∏¢‡πÄ‡∏Å‡πà‡∏á ‡∏Ç‡∏µ‡πâ‡πÄ‡∏•‡πà‡∏ô ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏±‡∏ô‡πÄ‡∏≠‡∏á ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏ô‡πâ‡∏°‡∏ô‡πâ‡∏≤‡∏ß‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏î‡∏µ ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏π‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ ‡πÇ‡∏î‡∏¢‡πÅ‡∏ó‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ß‡πà‡∏≤ **\"‡πÄ‡∏à‡πä\"** ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤ **\"‡∏Ñ‡∏∏‡∏ì‡∏ô‡πâ‡∏≠‡∏á\"** ‡πÄ‡∏™‡∏°‡∏≠\n\n---\n\n### üõ†Ô∏è **‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ (Tools)**\n\n#### `Product List` (‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤)\n\n‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á (Google Sheet) ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ:\n\n* `productCode` : ‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\n* `productName` : ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô\n* `category` : ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏ã‡∏ü‡∏≤ ‡πÄ‡∏ï‡∏µ‡∏¢‡∏á ‡πÇ‡∏ï‡πä‡∏∞ ‡∏Ø‡∏•‡∏Ø\n* `brand` : ‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\n* `price` : ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏ö‡∏≤‡∏ó)\n* `color` : ‡∏™‡∏µ‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\n* `material` : ‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ú‡∏•‡∏¥‡∏ï ‡πÄ‡∏ä‡πà‡∏ô ‡πÑ‡∏°‡πâ ‡∏ú‡πâ‡∏≤ ‡∏´‡∏ô‡∏±‡∏á\n* `width`, `length`, `height` : ‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏ã‡∏°.)\n* `description` : ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\n* `careInstructions` : ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏±‡∏Å‡∏©‡∏≤\n* `productImage` : URL ‡∏Ç‡∏≠‡∏á‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\n* `productVideo` : URL ‡∏Ç‡∏≠‡∏á‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)\n* `imageFolderUrl` : ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏≠‡∏±‡∏•‡∏ö‡∏±‡∏°‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏≤‡∏¢‡∏°‡∏∏‡∏°‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\n\n---\n\n### ‚úÖ **‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì**\n\n#### 1. **‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤**\n\n* ‡∏´‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ ‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å `Product List`\n* ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ ‡∏£‡∏≤‡∏Ñ‡∏≤ ‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô ‡πÅ‡∏•‡∏∞‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏£‡∏π‡∏õ ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏±‡∏•‡∏ö‡∏±‡∏°‡∏£‡∏π‡∏õ ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡∏ö‡∏î‡πâ‡∏ß‡∏¢\n\n#### 2. **‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠)**\n\n‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ:\n\n* ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠:\n\n* `product_id`, `product_name`, `quantity`, `item_total_price`\n* `order_total`: ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)\n* `note`: ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)\n* `customer_name`, `customer_phone`, `customer_email`, `delivery_address`\n\n#### 3. **‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠**\n\n* ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏™‡∏£‡∏∏‡∏õ ‡πÅ‡∏•‡∏∞‡∏ñ‡∏≤‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤: ‚Äú‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ß‡πà‡∏≤ ‚Äò‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‚Äô ‡∏´‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ô‡∏∞‡∏Ñ‡∏∞‚Äù\n* ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö `status_confirm = Y` ‡πÉ‡∏´‡πâ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ‡πÅ‡∏•‡∏∞‡πÅ‡∏à‡πâ‡∏á‡∏ß‡πà‡∏≤ ‚Äú‡∏ó‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡πÇ‡∏î‡∏¢‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡πà‡∏∞‚Äù\n\n#### 4. **‡∏Å‡∏£‡∏ì‡∏µ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à / ‡∏Ç‡∏≠‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà / ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°**\n\n* ‡∏ï‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡∏™‡∏∏‡∏†‡∏≤‡∏û ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠: ‡∏ü‡∏¥‡∏ô ‡∏ü‡∏¥‡∏ô ‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏ô‡∏¥‡πÄ‡∏à‡∏≠‡∏£‡πå / ‡πÇ‡∏ó‡∏£ 0123456789 / Line ID: finfinfurniture\n\n#### 5. **‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö**\n\n* ‡∏´‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ñ‡∏≤‡∏°‡∏ñ‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ‡πÄ‡∏ä‡πà‡∏ô ‚Äú‡∏â‡∏±‡∏ô‡πÄ‡∏Ñ‡∏¢‡∏™‡∏±‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏õ‡∏ö‡πâ‡∏≤‡∏á‚Äù, ‚Äú‡πÄ‡∏à‡πä‡∏à‡∏≥‡πÑ‡∏î‡πâ‡∏°‡∏±‡πâ‡∏¢‡∏ß‡πà‡∏≤‡∏â‡∏±‡∏ô‡∏ã‡∏∑‡πâ‡∏≠‡∏≠‡∏∞‡πÑ‡∏£‚Äù: ‡∏´‡πâ‡∏≤‡∏°‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• JSON ‡∏´‡∏£‡∏∑‡∏≠ order ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ‡∏°‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡πà‡∏≤ Json ‡πÉ‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÇ‡∏î‡∏¢‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î\n\n---\n\n### üö´ **‡∏Å‡∏é‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°**\n\n* ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏î‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ï‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏≠‡∏á‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î\n* ‡∏´‡πâ‡∏≤‡∏°‡∏ñ‡∏≤‡∏°‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏à‡∏≤‡∏Å `Product List` ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô\n* ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å ‚Äú‡πÄ‡∏à‡πä‚Äù ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡πÇ‡∏ó‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤\n\n---\n\n### üó£Ô∏è **‡πÇ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢ (Style)**\n\n* ‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏±‡∏ô‡πÄ‡∏≠‡∏á ‡∏™‡∏ô‡∏∏‡∏Å ‡∏Ç‡∏µ‡πâ‡πÄ‡∏•‡πà‡∏ô ‡πÅ‡∏ï‡πà‡∏™‡∏∏‡∏†‡∏≤‡∏û\n* ‡πÅ‡∏ó‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ß‡πà‡∏≤ ‚Äú‡πÄ‡∏à‡πä‚Äù ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤ ‚Äú‡∏Ñ‡∏∏‡∏ì‡∏ô‡πâ‡∏≠‡∏á‚Äù\n* ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ô‡πâ‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå ‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤\n\n---\n\n### üì¶ **‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö Json Output ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£**\n\n{\n  \"message\": \"‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤\",\n  \"order_items\": [\n    {\n      \"product_id\": \"FF1001\",  // ‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\n      \"product_name\": \"‡πÇ‡∏ã‡∏ü‡∏≤‡πÄ‡∏ö‡∏î Cozy\",  // ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\n      \"quantity\": 2,  // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á\n      \"item_total_price\": 4500  // ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ x ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô\n    }\n  ],\n  \"product_detail\": \"‡πÇ‡∏ã‡∏ü‡∏≤‡πÄ‡∏ö‡∏î Cozy ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 2 ‡∏ï‡∏±‡∏ß ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏° 4500 ‡∏ö‡∏≤‡∏ó\",\n  \"order_total\": 4500,  // ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\n  \"note\": \"\",\n  \"customer_name\": \"‡∏£‡∏±‡∏ä‡∏û‡∏á‡∏©‡πå\",\n  \"customer_phone\": \"0812345678\",\n  \"customer_email\": \"customer@example.com\",\n  \"delivery_address\": \"123/‡∏ö‡∏≤‡∏á‡∏ô‡∏≤ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø\",\n  \"status_confirm\": \"Y\"\n}\n\n---\n\n### üí¨ **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏≥‡∏û‡∏π‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏à‡πä**\n\n\"‡∏Ñ‡∏∏‡∏ì‡∏ô‡πâ‡∏≠‡∏á‡∏™‡∏ô‡πÉ‡∏à '‡πÇ‡∏ã‡∏ü‡∏≤‡πÄ‡∏ö‡∏î Cozy' (‡∏£‡∏´‡∏±‡∏™ FF1001) ‡πÉ‡∏ä‡πà‡∏°‡∏±‡πâ‡∏¢‡∏Ñ‡∏∞ ‡πÄ‡∏à‡πä‡πÅ‡∏ô‡∏ö‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏π‡∏õ‡πÉ‡∏´‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏∞ [https://yourshop.com/img/FF1001] ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡∏≠‡∏±‡∏•‡∏ö‡∏±‡∏°‡∏£‡∏π‡∏õ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà [https://yourshop.com/img/FF1001]\\n‡∏£‡∏≤‡∏Ñ‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ 2 ‡∏ï‡∏±‡∏ß 4,500 ‡∏ö‡∏≤‡∏ó‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏™‡∏ô‡πÉ‡∏à‡∏£‡∏±‡∏ö‡∏Å‡∏µ‡πà‡∏ï‡∏±‡∏ß‡∏î‡∏µ‡∏Ñ‡∏∞?\""
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        -1472,
        208
      ],
      "id": "5224e262-ad4b-488d-a706-6bbba08f8f12",
      "name": "AI Agent",
      "retryOnFail": true
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-5-mini-2025-08-07",
          "mode": "list",
          "cachedResultName": "gpt-5-mini-2025-08-07"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -1632,
        480
      ],
      "id": "a98877bf-f486-4af8-bf7f-d0bfd759d2cc",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "Gk896Oiqx4KohQbl",
          "name": "OpenAI Account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Line Webhook').item.json.body.events[0].source.userId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -1440,
        480
      ],
      "id": "0f0f3643-4bf5-49f5-a0fd-e6f184f86d0c",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"message\": \"‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤\",\n  \"order_items\": [\n    {\n      \"product_id\": \"FF1001\",\n      \"product_name\": \"‡πÇ‡∏ã‡∏ü‡∏≤‡πÄ‡∏ö‡∏î Cozy\",\n      \"quantity\": 2,\n      \"item_total_price\": 4500\n    }\n  ],\n  \"product_detail\": \"‡πÇ‡∏ã‡∏ü‡∏≤‡πÄ‡∏ö‡∏î Cozy ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 2 ‡∏ï‡∏±‡∏ß ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏° 4500 ‡∏ö‡∏≤‡∏ó\",\n  \"order_total\": 4500,\n  \"note\": \"\",\n  \"customer_name\": \"‡∏£‡∏±‡∏ä‡∏û‡∏á‡∏©‡πå\",\n  \"customer_phone\": \"0812345678\",\n  \"customer_email\": \"customer@example.com\",\n  \"delivery_address\": \"123/‡∏ö‡∏≤‡∏á‡∏ô‡∏≤ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø\",\n  \"status_confirm\": \"Y\"\n}",
        "autoFix": true
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        -1088,
        480
      ],
      "id": "f3cf7be2-ac0b-49e8-94fb-213cef088ecf",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "={{ $('Data Config').item.json.google_sheet_link }}",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Product List",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/12E2-65HoQZDORCbwmBrrwD3nqbB2G_LUps6ic88GFE8/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        -1248,
        480
      ],
      "id": "d36a52cb-3c89-47eb-9342-7b00db3b19fe",
      "name": "Product List",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "V96tffmmZdVEeLnH",
          "name": "Google Sheets Account-XAlpha Training"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "6cb5e524-f131-4329-8f9a-1149c7ccc52e",
              "leftValue": "={{ $('AI Agent').item.json.output.status_confirm }}",
              "rightValue": "Y",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -816,
        208
      ],
      "id": "5c63683c-3863-456b-aab2-6f11267616b8",
      "name": "Is Confirm"
    },
    {
      "parameters": {
        "sendTo": "={{ $('AI Agent').item.json.output.customer_email }}",
        "subject": "‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ô‡πÉ‡∏à‡πÉ‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ - ‡∏£‡πâ‡∏≤‡∏ô‡∏ü‡∏¥‡∏ô ‡∏ü‡∏¥‡∏ô ‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏ô‡∏¥‡πÄ‡∏à‡∏≠‡∏£‡πå",
        "message": "={{ $json.text }}",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        304,
        400
      ],
      "id": "5989a441-90fe-4e4c-95b7-f0e572b62aa4",
      "name": "Send Email",
      "webhookId": "540c9816-a9af-4d71-94fb-27fa1f73b062",
      "credentials": {
        "gmailOAuth2": {
          "id": "HE6HGOQOJt9xrBO4",
          "name": "Gmail Account-XAlpha Training"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.output.toJsonString() }}",
        "messages": {
          "messageValues": [
            {
              "message": "=‡∏ä‡πà‡∏ß‡∏¢‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ‡∏°‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ E-Mail ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö HTML ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π\n‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‡∏ï‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏ó‡∏°‡πÄ‡∏û‡∏•‡∏ï HTML ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ\n\n<!DOCTYPE html>\n<html lang=\"th\">\n<head>\n  <meta charset=\"UTF-8\">\n  <title>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ - ‡∏ü‡∏¥‡∏ô ‡∏ü‡∏¥‡∏ô ‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏ô‡∏¥‡πÄ‡∏à‡∏≠‡∏£‡πå</title>\n</head>\n<body style=\"margin:0;padding:0;background-color:#f2f6fc;\">\n  <table role=\"presentation\" width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:#f2f6fc;margin:0;padding:0;\">\n    <tr>\n      <td align=\"center\" style=\"padding:30px 10px;\">\n        <table width=\"600\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"background:#fff;border-radius:12px;box-shadow:0 4px 16px rgba(50,60,130,0.10);overflow:hidden;\">\n          <!-- HEADER -->\n          <tr>\n            <td style=\"background:linear-gradient(90deg,#2962ff 65%,#d32f2f 100%);color:#fff;font-size:1.4em;font-weight:bold;letter-spacing:2px;text-align:center;padding:24px 0 18px 0;\">\n              ‡∏ü‡∏¥‡∏ô ‡∏ü‡∏¥‡∏ô ‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏ô‡∏¥‡πÄ‡∏à‡∏≠‡∏£‡πå<br>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Ñ‡πà‡∏∞!\n            </td>\n          </tr>\n\n          <!-- GREETING -->\n          <tr>\n            <td style=\"padding:22px 28px 10px 28px;\">\n              <div style=\"background-color:#e3eafc;border-left:6px solid #2962ff;border-radius:8px;padding:18px 18px 10px 18px;margin-bottom:12px;\">\n                <p style=\"margin:0 0 8px 0;\">‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏Ñ‡∏∏‡∏ì<strong> [‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ã‡∏∑‡πâ‡∏≠]</strong></p>\n                <p style=\"margin:0;\">‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÑ‡∏ß‡πâ‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡∏±‡∏ö <b>‡∏ü‡∏¥‡∏ô ‡∏ü‡∏¥‡∏ô ‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏ô‡∏¥‡πÄ‡∏à‡∏≠‡∏£‡πå</b> ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏∞</p>\n              </div>\n            </td>\n          </tr>\n\n          <!-- PRODUCT LIST -->\n          <tr>\n            <td style=\"padding:0 28px;\">\n              <div style=\"background-color:#e3eafc;border-left:6px solid #2962ff;border-radius:8px;padding:18px 10px 12px 18px;\">\n                <div style=\"color:#2962ff;font-weight:bold;font-size:1.13em;margin-bottom:8px;\">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</div>\n                <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse:collapse;font-size:1em;\">\n                  <tr>\n                    <th align=\"left\" style=\"background:#2962ff;color:#fff;padding:7px 8px;\">‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>\n                    <th align=\"left\" style=\"background:#2962ff;color:#fff;padding:7px 8px;\">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>\n                    <th align=\"left\" style=\"background:#2962ff;color:#fff;padding:7px 8px;\">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>\n                    <th align=\"left\" style=\"background:#2962ff;color:#fff;padding:7px 8px;\">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°</th>\n                  </tr>\n                  <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (copy ‡πÅ‡∏ñ‡∏ß‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢)-->\n                  <tr>\n                    <td style=\"background:#f6faff;padding:7px 8px;border-bottom:1px solid #b0bec5;\">FN-1001</td>\n                    <td style=\"background:#f6faff;padding:7px 8px;border-bottom:1px solid #b0bec5;\">‡πÇ‡∏ã‡∏ü‡∏≤‡πÄ‡∏ö‡∏î ‡∏£‡∏∏‡πà‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏¥‡∏£‡πå‡∏ô</td>\n                    <td style=\"background:#f6faff;padding:7px 8px;border-bottom:1px solid #b0bec5;\">1</td>\n                    <td style=\"background:#f6faff;padding:7px 8px;border-bottom:1px solid #b0bec5;\">6,990 ‡∏ö‡∏≤‡∏ó</td>\n                  </tr>\n                  <tr>\n                    <td style=\"background:#f6faff;padding:7px 8px;border-bottom:1px solid #b0bec5;\">FN-2002</td>\n                    <td style=\"background:#f6faff;padding:7px 8px;border-bottom:1px solid #b0bec5;\">‡πÇ‡∏ï‡πä‡∏∞‡∏Å‡∏•‡∏≤‡∏á‡πÑ‡∏°‡πâ‡πÇ‡∏≠‡πä‡∏Ñ</td>\n                    <td style=\"background:#f6faff;padding:7px 8px;border-bottom:1px solid #b0bec5;\">2</td>\n                    <td style=\"background:#f6faff;padding:7px 8px;border-bottom:1px solid #b0bec5;\">2,380 ‡∏ö‡∏≤‡∏ó</td>\n                  </tr>\n                  <!-- /‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->\n                  <tr>\n                    <td colspan=\"3\" align=\"right\" style=\"font-weight:bold;background:#e3eafc;color:#d32f2f;padding:7px 8px;border-bottom:1px solid #b0bec5;\">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</td>\n                    <td style=\"font-weight:bold;background:#e3eafc;color:#d32f2f;padding:7px 8px;border-bottom:1px solid #b0bec5;\">9,370 ‡∏ö‡∏≤‡∏ó</td>\n                  </tr>\n                </table>\n              </div>\n            </td>\n          </tr>\n\n          <!-- ORDER INFO -->\n          <tr>\n            <td style=\"padding:0 28px;\">\n              <div style=\"background-color:#ffe4e3;border-left:6px solid #d32f2f;border-radius:8px;padding:18px 10px 8px 18px;margin-top:16px;margin-bottom:8px;\">\n                <div style=\"color:#d32f2f;font-weight:bold;font-size:1.13em;margin-bottom:8px;\">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</div>\n                <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"font-size:1em;\">\n                  <tr>\n                    <td style=\"width:150px;color:#d32f2f;padding:4px 0;\">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ã‡∏∑‡πâ‡∏≠</td>\n                    <td style=\"padding:4px 0;\">[‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ã‡∏∑‡πâ‡∏≠]</td>\n                  </tr>\n                  <tr>\n                    <td style=\"color:#d32f2f;padding:4px 0;\">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</td>\n                    <td style=\"padding:4px 0;\">[‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£]</td>\n                  </tr>\n                  <tr>\n                    <td style=\"color:#d32f2f;padding:4px 0;\">E-Mail</td>\n                    <td style=\"padding:4px 0;\">[E-Mail]</td>\n                  </tr>\n                  <tr>\n                    <td style=\"color:#d32f2f;padding:4px 0;\">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</td>\n                    <td style=\"padding:4px 0;\">[‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°]</td>\n                  </tr>\n                </table>\n              </div>\n            </td>\n          </tr>\n\n          <!-- NOTICE -->\n          <tr>\n            <td style=\"padding:0 28px;\">\n              <div style=\"background:#fff8e1;border-left:6px solid #ffd600;border-radius:8px;padding:16px 18px 8px 18px;margin-top:10px;\">\n                <p style=\"margin:0;font-size:1em;\">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏™‡∏á‡∏™‡∏±‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡∏ó‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ<br>\n                <b>‡πÇ‡∏ó‡∏£:</b> 09X-XXX-XXXX &nbsp;&nbsp; <b>Line:</b> @finfinfurniture</p>\n              </div>\n            </td>\n          </tr>\n\n          <!-- FOOTER -->\n          <tr>\n            <td style=\"padding:20px 10px 12px 10px;text-align:center;color:#999;font-size:0.95em;\">\n              ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÑ‡∏ß‡πâ‡πÉ‡∏à <b>‡∏ü‡∏¥‡∏ô ‡∏ü‡∏¥‡∏ô ‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏ô‡∏¥‡πÄ‡∏à‡∏≠‡∏£‡πå</b> ‡πÄ‡∏£‡∏≤‡∏´‡∏ß‡∏±‡∏á‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏Ñ‡πà‡∏∞\n            </td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n  </table>\n</body>\n</html>"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        -80,
        400
      ],
      "id": "3756abb9-1850-47fe-b93a-1a0c54c97f6f",
      "name": "Write Email"
    },
    {
      "parameters": {
        "fieldToSplitOut": "output.order_items",
        "include": "allOtherFields",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        -80,
        0
      ],
      "id": "9b4556d6-018f-4871-834c-e44f78367371",
      "name": "Split Order",
      "executeOnce": true
    },
    {
      "parameters": {
        "chatId": "-1002527376187",
        "text": "=<b>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≠‡∏á‡∏ã‡∏∑‡πâ‡∏≠ :</b> {{ $('Generate OrderID').item.json.data }}\n<b>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ :</b> {{ $now.format('yyyy-MM-dd') }}\n\n<b>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ :</b>\n{{ $json['output.order_items'].product_name }} ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô {{ $json['output.order_items'].quantity }} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\n\n<b>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏° :</b> {{ $json['output.order_items'].item_total_price }} ‡∏ö‡∏≤‡∏ó\n<b>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á :</b> {{ $json.output.delivery_address }}\n\n<b>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ã‡∏∑‡πâ‡∏≠ :</b> {{ $json.output.customer_name }}\n<b>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ :</b> {{ $json.output.customer_phone }}\n<b>E-Mail :</b> {{ $json.output.customer_email }}",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        304,
        0
      ],
      "id": "1ea7d135-13b6-4331-bc18-8bf43ced4996",
      "name": "Send Notify",
      "webhookId": "e116ac5d-5933-48c9-afb1-c1c57798d0aa",
      "credentials": {
        "telegramApi": {
          "id": "b641eKsXY2hl5rWr",
          "name": "Telegram Account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "29061b98-7f28-4e25-97a2-3e5a94b8cb7f",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        -2096,
        208
      ],
      "id": "0fb14a30-d7fb-401d-9a50-1806956de7a5",
      "name": "Line Webhook",
      "webhookId": "29061b98-7f28-4e25-97a2-3e5a94b8cb7f"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.line.me/v2/bot/message/reply",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"replyToken\": \"{{ $('Line Webhook').first().json.body.events[0].replyToken }}\",\n  \"messages\": [\n    {\n        \"type\":\"text\",\n        \"text\": {{ JSON.stringify($('AI Agent').item.json.output.message) }}\n    }\n  ]\n}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1024,
        208
      ],
      "id": "79847fd2-22fd-448d-ac5b-6c5019a22509",
      "name": "Reply Message",
      "credentials": {
        "httpHeaderAuth": {
          "id": "oxPu2Qips5O9mqgo",
          "name": "FURNITURE Line Header Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.line.me/v2/bot/chat/loading/start",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"chatId\": \"{{ $('Line Webhook').item.json.body.events[0].source.userId }}\",\n    \"loadingSeconds\": 5\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1712,
        208
      ],
      "id": "9cb5d24c-85b4-46cc-ac6b-275646b7013b",
      "name": "Loading Message",
      "credentials": {
        "httpHeaderAuth": {
          "id": "oxPu2Qips5O9mqgo",
          "name": "FURNITURE Line Header Auth"
        }
      }
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        -352,
        0
      ],
      "id": "27b45df5-6335-420c-b408-9440b749b3d5",
      "name": "Merge"
    },
    {
      "parameters": {
        "action": "generate"
      },
      "type": "n8n-nodes-base.crypto",
      "typeVersion": 1,
      "position": [
        -560,
        208
      ],
      "id": "bd387589-c0e8-4582-9fda-0ddba6aa63ae",
      "name": "Generate OrderID"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "50211fd4-14a2-47e2-8a0a-81c0aa892c9c",
              "name": "google_sheet_link",
              "value": "https://docs.google.com/spreadsheets/d/12E2-65HoQZDORCbwmBrrwD3nqbB2G_LUps6ic88GFE8",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1904,
        208
      ],
      "id": "364bd65e-c3e0-4f6d-8ee7-6e9db65d8602",
      "name": "Data Config"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "={{ $('Data Config').item.json.google_sheet_link }}",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": 1241461512,
          "mode": "list",
          "cachedResultName": "Order List",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1UBlhJOdG9aNtnOhlnTBTBNrz5ETGmh1XRQX_I9xCF5I/edit#gid=1241461512"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "order_id": "={{ $('Generate OrderID').item.json.data }}",
            "date": "={{ $now.format('yyyy-MM-dd') }}",
            "productCode": "={{ $json['output.order_items'].product_id }}",
            "quantity": "={{ $json['output.order_items'].quantity }}",
            "totalPrice": "={{ $json['output.order_items'].item_total_price }}",
            "note": "={{ $json.output.note }}",
            "customer_name": "={{ $json.output.customer_name }}",
            "phone": "={{ $json.output.customer_phone }}",
            "email": "={{ $json.output.customer_email }}",
            "delivery_area": "={{ $json.output.delivery_address }}"
          },
          "matchingColumns": [
            "row_number"
          ],
          "schema": [
            {
              "id": "order_id",
              "displayName": "order_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "date",
              "displayName": "date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "productCode",
              "displayName": "productCode",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "quantity",
              "displayName": "quantity",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "totalPrice",
              "displayName": "totalPrice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "note",
              "displayName": "note",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "customer_name",
              "displayName": "customer_name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "phone",
              "displayName": "phone",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "email",
              "displayName": "email",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "delivery_area",
              "displayName": "delivery_area",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        304,
        208
      ],
      "id": "014834e8-6641-45ac-9f1d-1315cc405514",
      "name": "Record Order",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "V96tffmmZdVEeLnH",
          "name": "Google Sheets Account-XAlpha Training"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "AI Agent": {
      "main": [
        [
          {
            "node": "Reply Message",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Structured Output Parser",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Write Email",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Product List": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Is Confirm": {
      "main": [
        [
          {
            "node": "Generate OrderID",
            "type": "main",
            "index": 0
          }
        ],
        []
      ]
    },
    "Send Email": {
      "main": [
        []
      ]
    },
    "Write Email": {
      "main": [
        [
          {
            "node": "Send Email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Order": {
      "main": [
        [
          {
            "node": "Send Notify",
            "type": "main",
            "index": 0
          },
          {
            "node": "Record Order",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Notify": {
      "main": [
        []
      ]
    },
    "Line Webhook": {
      "main": [
        [
          {
            "node": "Data Config",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loading Message": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Reply Message": {
      "main": [
        [
          {
            "node": "Is Confirm",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Split Order",
            "type": "main",
            "index": 0
          },
          {
            "node": "Write Email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate OrderID": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Data Config": {
      "main": [
        [
          {
            "node": "Loading Message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "fce3ec3c-dc75-453e-97cf-d8dcceffca6e",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "e6c0e9708d6527459504dfe67ce2f0eb2d36ad3965aa79d063680543a510bdd1"
  },
  "id": "w4dp4sGlYHctkV56",
  "tags": []
}